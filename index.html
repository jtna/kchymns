<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css"/>
    <link rel="stylesheet" type="text/css" href="abcjs-audio.css">

    <title>가톨릭 성가 SATB split demo</title>

    <style>
        main {
            max-width: 770px;
            margin: 0 auto;
        }
        .highlight {
            fill: #0a9ecc;
        }
        .abcjs-cursor {
            stroke: red;
        }
    </style>

    <script src="abcjs-basic-min.js" type="text/javascript"></script>
    <script type="text/javascript">

        function CursorControl() {
            var self = this;

            self.onReady = function() {
            };
            self.onStart = function() {
                var svg = document.querySelector("#paper svg");
                var cursor = document.createElementNS("http://www.w3.org/2000/svg", "line");
                cursor.setAttribute("class", "abcjs-cursor");
                cursor.setAttributeNS(null, 'x1', 0);
                cursor.setAttributeNS(null, 'y1', 0);
                cursor.setAttributeNS(null, 'x2', 0);
                cursor.setAttributeNS(null, 'y2', 0);
                svg.appendChild(cursor);
            };
            self.beatSubdivisions = 2;
            self.onEvent = function(ev) {
                if (ev.measureStart && ev.left === null)
                    return; // this was the second part of a tie across a measure line. Just ignore it.

                var lastSelection = document.querySelectorAll("#paper svg .highlight");
                for (var k = 0; k < lastSelection.length; k++)
                    lastSelection[k].classList.remove("highlight");

                for (var i = 0; i < ev.elements.length; i++ ) {
                    var note = ev.elements[i];
                    for (var j = 0; j < note.length; j++) {
                        note[j].classList.add("highlight");
                    }
                }

                var cursor = document.querySelector("#paper svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", ev.left - 2);
                    cursor.setAttribute("x2", ev.left - 2);
                    cursor.setAttribute("y1", ev.top);
                    cursor.setAttribute("y2", ev.top + ev.height);
                }
            };
            self.onFinished = function() {
                var els = document.querySelectorAll("svg .highlight");
                for (var i = 0; i < els.length; i++ ) {
                    els[i].classList.remove("highlight");
                }
                var cursor = document.querySelector("#paper svg .abcjs-cursor");
                if (cursor) {
                    cursor.setAttribute("x1", 0);
                    cursor.setAttribute("x2", 0);
                    cursor.setAttribute("y1", 0);
                    cursor.setAttribute("y2", 0);
                }
            };
        }

        var cursorControl = new CursorControl();

        var header = '%abc-2.2\n%%titlefont Jua\n%%vocalfont Jua\n%%composerfont Jua\n'
        var abc = [
header + 'T: 001 나는 믿나이다\nC: Alb.G. Stein\nM: 3/4\nL: 1/4\nQ: 1/4=86\nK: Eb\n%%score (S A)(T Bass)\nV: S clef=treble\nB G E | (E D) E | (F B) A | (A G) z |\nw: 나 는 굳 게 ‐ 믿 나 ‐ 이 다 ‐\nG F E | (C A) F | E2 D | E2 z |\nw: 진 실 하 온 ‐ 주 님 말 씀\nB G E | (E D) E | (F B) A | (A G) z |\nw: 성 세 때 에 ‐ 드 린 ‐ 맹 세 ‐\nG F E | (C A) F | E2 D | E2 z |\nw: 충 실 하 게 ‐ 지 키 리 다\nB B B | c2 c | d2 d | e2 z |\nw: 주 께 서 나 를 택 하 여\nB A G | c2 A | (F B) A | (A G) z |\nw: 교 회 로 부 르 시 ‐ 오 니 ‐\nG F E | (C A) F | E2 D | E2 z |\nw: 진 심 감 사 ‐ 하 나 이 다\nV: A clef=treble\nE D C | B,2 C | D2 D | (F E) z |\nE C B, | C2 C | B,2 B, | B,2 z |\nE D C | B,2 C | D2 D | (F E) z |\nE C B, | C2 C | B,2 B, | B,2 z |\nE E E | E2 E | (F G) A | (A G) z |\nG F E | E2 E | D2 D | (F E) z |\nE C B, | C2 C | B,2 B, | B,2 z |\nV: T clef=bass\nG, B, G, | G,2 G, | B,2 B, | B,2 z |\nB, A, G, | F,2 A, | G,2 F, | G,2 z |\nG, B, G, | G,2 G, | B,2 B, | B,2 z |\nB, A, G, | F,2 A, | G,2 F, | G,2 z |\nG, G, B, | A,2 A, | A,2 A, | B,2 z |\n_D C B, | A,2 A, | (A, F,) B, | B,2 z |\nB, A, G, | F,2 A, | (G, A,) F, | G,2 z |\nV: Bass clef=bass\nE, B,, C, | G,,2 C, | B,,2 B,, | E,2 z |\nE, E, E, | A,,2 A,, | B,,2 B,, | E,2 z |\nE, B,, C, | G,,2 C, | B,,2 B,, | E,2 z |\nE, E, E, | A,,2 A,, | B,,2 B,, | E,2 z |\nE, E, G, | A,2 G, | F,2 F, | E,2 z |\nE, E, E, | A,,2 C, | B,,2 B,, | E,2 z |\nE, E, E, | A,,2 A,, | B,,2 B,, | E,2 z |',
header + 'T: 002 주 하느님 크시도다\nC: Stuart K. Heine\nM: 4/4\nL: 1/4\nQ: 1/4=74\nK: Bb\n%%score (Soprano Alto)(Tenor Bass)\nV: Soprano clef=treble\nF/2 F/2 F/2 | D3/2 F/2 F/2 F/2 G/2 G/2 | E G3/2 G/2 G/2 G/2 | F3/2 D/2 F/2 F/2 E/2 E/2 |\nw: 주 하 느 님 지 으 신 모 든 세 계 내 마 음 속 에 그 리 어 볼\nD2- D/2 F/2 F/2 F/2 | D3/2 F/2 F/2 F/2 G/2 G/2 | E G3/2 G/2 G/2 G/2 | F3/2 D/2 F/2 F/2 E/2 E/2 |\nw: 때 _ 하 늘 의 별 울 려 퍼 지 는 뇌 성 주 님 의 권 능 우 주 에 찼\nD2- D/2 F/2 F/2 B/2 | d3/2 c/2 B/2 A/2 B/2 G/2 | F2- F/2 B/2 B/2 A/2 | C2- C/2 E/2 G/2 F/2 |\nw: 네 _ 내 영 혼 주 를 찬 양 하 리 니 _ 주 하 느 님 _ 크 시 도\nD2- D/2 F/2 F/2 B/2 | d3/2 c/2 B/2 A/2 B/2 G/2 | F2- F/2 B/2 A/2 B/2 | c2- c/2 d/2 e/2 A/2 |\nw: 다 _ 내 영 혼 주 를 찬 양 하 리 니 _ 크 시 도 다 _ 주 하 느\nB2- B/4 z/4 |\nw: 님 _\nV: Alto clef=treble\nD/2 D/2 D/2 | B,3/2 D/2 E/2 D/2 E/2 E/2 | B, E3/2 E/2 D/2 ^C/2 | D3/2 B,/2 D/2 D/2 C/2 A,/2 |\nB,2- B,/2 D/2 D/2 D/2 | B,3/2 D/2 E/2 D/2 E/2 E/2 | B, E3/2 E/2 D/2 ^C/2 | D3/2 B,/2 D/2 D/2 C/2 A,/2 |\nB,2- B,/2 D/2 D/2 D/2 | F3/2 ^F/2 G/2 ^F/2 G/2 E/2 | D2- D/2 D/2 C/2 C/2 | A,2- A,/2 C/2 E/2 C/2 |\nB,2- B,/2 D/2 D/2 D/2 | F3/2 ^F/2 G/2 ^F/2 G/2 E/2 | D2- D/2 F/2 F/2 F/2 | (G2 F/2) F/2 F/2 F/2 |\nF2- F/4 z/4 |\nV: Tenor clef=bass\nB,/2 B,/2 B,/2 | F,3/2 B,/2 A,/2 B,/2 B,/2 B,/2 | G, B,3/2 B,/2 B,/2 B,/2 | B,3/2 F,/2 A,/2 A,/2 G,/2 F,/2 |\nF,2- F,/2 B,/2 B,/2 B,/2 | F,3/2 B,/2 A,/2 B,/2 B,/2 B,/2 | G, B,3/2 B,/2 B,/2 B,/2 | B,3/2 F,/2 A,/2 A,/2 G,/2 F,/2 |\nF,2- F,/2 B,/2 B,/2 B,/2 | B,3/2 B,/2 B,/2 B,/2 B,/2 B,/2 | B,2- B,/2 F,/2 F,/2 F,/2 | F,2- F,/2 G,/2 A,/2 A,/2 |\nF,2- F,/2 B,/2 B,/2 B,/2 | B,3/2 B,/2 B,/2 B,/2 B,/2 B,/2 | B,2- B,/2 D/2 C/2 B,/2 | (B,2 A,/2) B,/2 C/2 E/2 |\nD2- D/4 z/4 |\nV: Bass clef=bass\nB,,/2 B,,/2 B,,/2 | B,,3/2 B,,/2 C,/2 B,,/2 E,/2 E,/2 | E, E,3/2 E,/2 E,/2 =E,/2 | F,3/2 F,/2 F,,/2 F,,/2 F,,/2 F,,/2 |\nB,,2- B,,/2 B,,/2 B,,/2 B,,/2 | B,,3/2 B,,/2 C,/2 B,,/2 E,/2 E,/2 | E, E,3/2 E,/2 E,/2 =E,/2 | F,3/2 F,/2 F,,/2 F,,/2 F,,/2 F,,/2 |\nB,,2- B,,/2 B,,/2 B,,/2 B,,/2 | B,,3/2 D,/2 E,/2 E,/2 E,/2 E,/2 | B,,2- B,,/2 B,,/2 F,/2 F,/2 | F,,2- F,,/2 F,,/2 F,,/2 F,,/2 |\nB,,2- B,,/2 B,,/2 B,,/2 B,,/2 | B,,3/2 D,/2 E,/2 E,/2 E,/2 E,/2 | B,,2- B,,/2 B,,/2 C,/2 D,/2 | (E,2 F,/2) F,/2 F,/2 F,/2 |\nB,,2- B,,/4 z/4 |',
header + 'T: 003 빛의 하느님\nC: 최병철 작곡\nM: 4/4\nL: 1/4\nQ: 1/4=102\nK: F\n%%score (Soprano Alto)(Tenor Bass)\nV: Soprano clef=treble\nA A B c | c3/2 B/2 A2 | G G/2``A/2 B A | G3 z |\nw: 고 맙 기 그 지 없 다 빛 의 ‐ 하 느 님\nA A B c | c3/2 B/2 A2 | G A/2``=B/2 c d | c3 c |\nw: 태 초 에 새 빛 으 로 세 상 ‐ 이 루 고 날\n(c3/2 B/2) A c | B3/2 A/2 G G | (A3/2 G/2) F A | G3 z |\nw: 마 ‐ 다 빛 으 로 써 날 정 ‐ 하 시 니\nA A B c | c3/2 B/2 A2 | G A/2``B/2 G G | F3 z |\nw: 고 맙 고 고 마 워 라 빛 의 ‐ 하 느 님\nV: Alto clef=treble\nF F F E | F E F2 | F F E F | E3 z |\nF F F E | F E F2 | E F/2``G/2 G3/2 F/2 | E3 G |\n(F E) F F | E F E E | E2 D F | E3 z |\nF F F E | F E F2 | F F E E | F3 z |\nV: Tenor clef=bass\nC C B, G, | C C C2 | D D C C | C3 z |\nC C B, G, | C C C2 | C C/2``D/2 C =B, | C3 E |\nC2 C C | C C C D | (^C A,) A, =B, | C3 z |\nC C B, G, | C C C2 | D D C B, | A,3 z |\nV: Bass clef=bass\nF, E, D, C,/2``B,,/2 | A,, G,, F,,2 | B, B,/2``A,/2 G, F, | C3 z |\nF, E, D, C,/2``B,,/2 | A,, G,, F,,2 | C, F, E, G, | C,3 B, |\n(A, G,) F, A, | G, F, C, B,, | (A,, ^C,) D, G,, | C,3 z |\nF, E, D, C,/2``B,,/2 | A,, G,, F,,2 | B,, A,,/2``G,,/2 C, C, | F,3 z |',
header + 'T: 004 찬양하라\nC: P. Sohren\nM: 3/4\nL: 1/4\nQ: 1/4=90\nK: G\n%%score (Soprano Alto)(Tenor Bass)\nV: Soprano clef=treble\nG G d | (B3/2 A/2) G | F E D | E F G |\nw: 찬 양 하 라 ‐ 전 능 하 신 창 조 주\nA3 | G3 | G G d | (B3/2 A/2) G |\nw: 천 주 찬 미 하 라 ‐ 내\nF E D | E F G | A3 | G3 |\nw: 영 혼 아 우 리 구 세 주\nd d d | e3 | B c d | d c B |\nw: 만 민 들 아 주 의 제 단 에 모\nA3 | D E F | G A B | A3 |\nw: 여 깊 은 흠 숭 드 리 어\nG3 |\nw: 라\nV: Alto clef=treble\nD E D | (G3/2 F/2) E | D C B, | C C B, |\n(E D C) | B,3 | D E D | (G3/2 F/2) E |\nD C B, | C C B, | (E D C) | B,3 |\nG A G | G3 | G G A | G E/2``F/2 G |\nF3 | D C C | B, E ^D | (E2 =D/2``C/2) |\nB,3 |\nV: Tenor clef=bass\nB, B, A, | D2 B, | B, G, G, | G, A, G, |\n(G, F,2) | G,3 | B, B, A, | D2 B, |\nB, G, G, | G, A, G, | (G, F,2) | G,3 |\nB, A, B, | C3 | D C A, | B, C D |\nD3 | D G, A, | G, E, F, | (E, A,/2``G,/2 F,) |\nG,3 |\nV: Bass clef=bass\nG, E, F, | (G,3/2 D,/2) E, | B,, C, G,, | C, A,, E, |\n(C, D,2) | G,,3 | G, E, F, | (G,3/2 D,/2) E, |\nB,, C, G,, | C, A,, E, | (C, D,2) | G,,3 |\nG, F, G, | C,3 | G, E, F, | G, A, B,/2``G,/2 |\nD,3 | B,, C, A,, | E, C, B,, | (C,2 D,) |\nG,,3 |',
header + 'T: 005 찬미의 기도\nC: 서행자\nM: 3/4\nL: 1/4\nQ: 1/4=80\nK: Eb\n%%score (Soprano Alto)(Tenor Bass)\nV: Soprano clef=treble\nB, | E F G | B2 B/2 B/2 | c B A/2``G/2 |\nw: 저 동 편 하 늘 환 히 밝 아 오 ‐\nF2 B, | E F G | B2 A/2 G/2 | (F3/2 B/2) D |\nw: 고 새 들 은 깨 어 노 래 부 ‐ 른\nE2 G | A G F | B A G | e d/2``c/2 B |\nw: 다 저 풀 잎 에 찬 이 슬 고 요 ‐ 한\nB/2``=A/2 G B, | E F G | B2 A/2 G/2 | (F3/2 B/2) D |\nw: 아 ‐ 침 다 함 께 모 여 경 배 드 ‐ 린\nE2 |\nw: 다\nV: Alto clef=treble\nB, | B, C/2``D/2 E | (F G) E/2 E/2 | E E D/2``E/2 |\n(E D) B, | B, C/2``D/2 E | (F E) E/2 E/2 | (E D) B, |\nB,2 _D | C/2``D/2 E D | E F E | G F F |\n^F/2``^F/2 G B, | B, C/2``D/2 G | G2 F/2 E/2 | (E D) B, |\nB,2 |\nV: Tenor clef=bass\nB, | G, A, B, | B,2 B,/2 B,/2 | A, B, B, |\nB,2 B, | G, A, B, | (A, G,) A,/2 B,/2 | (C B,) F,/2``A,/2 |\nG,2 B, | A, B, B, | B, B, B, | B, =A, B, |\nC B, B, | G, A, B, | _D2 C/2 B,/2 | (C B,) F,/2``A,/2 |\nG,2 |\nV: Bass clef=bass\nB, | E, E, E, | (D, E,) G,/2 G,/2 | A, G, F,/2``E,/2 |\nB,2 B, | E, E, E, | (D, _D,) C,/2 B,,/2 | (A,, B,,) B,, |\nE,2 =E, | F, G, A, | G, D, E, | C, F,/2``E,/2 D, |\nD, G, B, | E, E, E, | =E,2 F,/2 G,/2 | (A, B,) B,, |\nE,2 |',
header + 'T: 006 찬미 노래 부르며\nC: L. Mason,   손복희 작사\nM: 3/4\nL: 1/4\nQ: 1/4=74\nK: G\n%%score (Soprano Alto)(Tenor Bass)\nV: Soprano clef=treble\nG3/4 A/4 | B3/2 B/2 c/2 B/2 | A2 F3/4 G/4 | A3/2 c/2 B/2 A/2 |\nw: 찬 미 노 래 부 르 며 주 대 전 떠 납 니\nG2 G3/4 A/4 | B3/2 B/2 c/2 B/2 | A2 d3/4 c/4 | B/2 G/2 F E |\nw: 다 내 가 가 는 곳 마 다 함 께 하 여 주 소\nD2 d3/4 c/4 | B3/2 d/2 c/2 B/2 | A2 B3/4 c/4 | d3/2 B/2 c/2 B/2 |\nw: 서 하 루 하 루 모 두 를 주 님 앞 에 드 리\nA2 d3/4 c/4 | B3/2 d/2 c/2 B/2 | A2 B3/4 c/4 | d/2 c/2 B A |\nw: 며 오 롯 한 마 음 으 로 나 를 봉 _헌 합 니\nG2 |\nw: 다\nV: Alto clef=treble\nG3/4 G/4 | G3/2 G/2 A/2 G/2 | F2 D3/4 E/4 | F3/2 A/2 G/2 F/2 |\nG2 G3/4 G/4 | G3/2 G/2 A/2 G/2 | F2 A3/4 A/4 | G/2 E/2 D ^C |\nD2 F3/4 F/4 | G3/2 G/2 F/2 G/2 | F2 G3/4 G/4 | G3/2 G/2 A/2 G/2 |\nF2 F3/4 F/4 | G3/2 G/2 F/2 G/2 | F2 G3/4 G/4 | G/2 A/2 G F |\nG2 |\nV: Tenor clef=bass\nB,3/4 C/4 | D3/2 D/2 D/2 D/2 | D2 D,3/4 D,/4 | D3/2 D/2 D/2 C/2 |\nB,2 B,3/4 C/4 | D3/2 D/2 D/2 D/2 | D2 A,3/4 A,/4 | B,/2 B,/2 A, A,/2``G,/2 |\nF,2 A,3/4 D/4 | D3/2 D/2 D/2 D/2 | D2 G,3/4 A,/4 | B,3/2 D/2 D/2 D/2 |\nD2 A,3/4 D/4 | D3/2 D/2 D/2 D/2 | D2 G,3/4 A,/4 | B,/2 E/2 D C |\nB,2 |\nV: Bass clef=bass\nG,3/4 G,/4 | G,3/2 G,/2 F,/2 G,/2 | D,2 D,3/4 D,/4 | D,3/2 D,/2 D,/2 D,/2 |\nG,2 G,3/4 G,/4 | G,3/2 G,/2 F,/2 G,/2 | D,2 F,3/4 F,/4 | G,/2 G,/2 A, A,, |\nD,2 D,3/4 D,/4 | G,3/2 B,/2 A,/2 G,/2 | D,2 G,3/4 G,/4 | G,3/2 G,/2 F,/2 G,/2 |\nD,2 D,3/4 D,/4 | G,3/2 B,/2 A,/2 G,/2 | D,2 G,3/4 G,/4 | G,/2 C,/2 D, D, |\nG,,2 |',
header + 'T: 007 주님께 새로운 노래를\nC: 최병철\nM: 4/4\nL: 1/4\nQ: 1/4=112\nK: F\n%%score (S A)(T B)\nV: S clef=treble\nF2 A c | (c B) A2 | G2 A B | B A G2 |\nw: * * * * * * * * * * * *\nA2 B c | d c B G | (F A2) G | F3 z |\nw: * * * * * * * * * * *\nF2 A c | (c B) A2 | G2 A B | B A G2 |\nw: 새 로 운 노 ‐ 래 주 님 께 부 르 세\nA2 B c | d c B G | (F A2) G | F3 z |\nw: 그 이 름 드 높 이 찬 미 ‐ 하 세\nz/2 F/2 G/2``A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2 A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2 G/2``F/2 F z/4 | A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2 B/2``A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2 G/2 F/2 F z/4 |\nw: 1.주 께 ‐ 노 래 불 러 드 려 라, 그 이 름 을 찬  미 하 라 나 날 이 구 원 하 심 을 널 리 퍼 뜨 ‐ 리 ‐ 라 당 신 의 영 광 을 백 성 에 ‐ 게 그 기 적 을 만 백 성 에 게 두 루 ‐ 알 리 라\nF2 A c | (c B) A2 | G2 A B | B A G2 |\nw: 새 로 운 노 ‐ 래 주 님 께 부 르 세\nA2 B c | d c B G | (F A2) G | F3 z |\nw: 그 이 름 드 높 이 찬 미 ‐ 하 세\nz/2 F/2 G/2``A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2 A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2 G/2``F/2 F z/4 | A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2 B/2 A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2 G/2 F/2 F z/4 |\nw: 2.주 는 ‐ 위 대 하 시 니 한 없 이 찬 미 를 해 드 리 어 야 모 든 신 들 보 다 도 경 외 해 야 마 땅 ‐ 하 ‐ 니 당 신 의 앞 에 는 위 엄 과 영 광 당 신 의 성 소 에 는  힘 과 빛 이 ‐ 있 도 다\nF2 A c | (c B) A2 | G2 A B | B A G2 |\nw: 새 로 운 노 ‐ 래 주 님 께 부 르 세\nA2 B c | d c B G | (F A2) G | F3 z |\nw: 그 이 름 드 높 이 찬 미 ‐ 하 세\nz/2 F/2 G/2``A/2 A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2 A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2 G/2 F/2 F z/4 | A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2 B/2 A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2``G/2``F/2 F z/4 |\nw: 3.주 께 ‐ 드 려 라 만 백 성 족 속 들 아 영 광 과 힘 을 주 께 돌 려 ‐ 드 려 라 그 이 름 영 광 을 주 께 돌 려 드 려 라 제 물 을 받 쳐 들 고 궁 정 으 로 들 어 ‐ 가 ‐ 라\nF2 A c | (c B) A2 | G2 A B | B A G2 |\nw: 새 로 운 노 ‐ 래 주 님 께 부 르 세\nA2 B c | d c B G | (F A2) G | F3 z |\nw: 그 이  름 드 높 이 찬 미 ‐ 하 세\nz/2 F/2 G/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2``A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2 G/2 F/2 F z/4 | A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2 B/2 A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2 G/2 F/2 F z/4 |\nw: 4.하 늘 은 기 뻐 하 라 땅 은 춤 추 ‐ 라 바 다 여 우 렁 차 게 소 리 ‐ 질 러 라 들 이 여 흥 겹 게 우 쭐 거 려 라 숲 을 이 룬 나 무 들 도 환 호 성 을 ‐ 올 려 라\nF2 A c | (c B) A2 | G2 A B | B A G2 |\nw: 새 로 운 노 ‐ 래 주 님 께 부 르 세\nA2 B c | d c B G | (F A2) G | F3 z |\nw: 그 이 름 드 높 이 찬 미 ‐ 하 세\nz/2 F/2 G/2``A/2 A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2``A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2``A/2 G/2``F/2 F z/4 | A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 A/2 c/2 B/2 B/2 A/2 G | G/2 G/2 G/2 G/2 G/2 G/2 G/2 G/2 A/2 B/2 A/2 G/2 F/2 F z/4 |\nw: 5.주 께 서  오 시 나 니 주 님 앞 에 ‐ 서 세 상 을 다 스 리 러 주 께 서 오 시 ‐ 나 ‐ 니 당 신 은 온_ 세 상 을 정 의 로 다 스 리 리  라 진 실 로 써 백 성 들 을 다 스 리 시 리 라\nF2 A c | (c B) A2 | G2 A B | B A G2 |\nw: 새 로 운 노 ‐ 래 주 님 께 부 르 세\nA2 B c | d c B G | (F A2) G | F3 z |\nw: 그 이 름 드 높 이 찬 미 ‐ 하 세\nV: A clef=treble\nF2 F E | (D E) F2 | G2 F G | G F E2 |\nF2 F F | F F F D | (C F) E2 | C3 z |\nF2 F E | (D E) F2 | G2 F G | G F E2 |\nF2 F F | F F F D | (C F) E2 | C3 z |\nC2- C4 C3 E | D4- D3/2 D2 C z/4 | C4 D E | D4- D D2 C z/4 |\nF2 F E | (D E) F2 | G2 F G | G F E2 |\nF2 F F | F F F D | (C F) E2 | C3 z |\nC2- C4 C7/2 E | D4- D2 D2 C z/4 | C4 D E | D4- D D2 C z/4 |\nF2 F E | (D E) F2 | G2 F G | G F E2 |\nF2 F F | F F F D | (C F) E2 | C3 z |\nC2- C4 C/2 E | D4- D2 C z/4 | C4 D2 E | D4- D2 D2 C z/4 |\nF2 F E | (D E) F2 | G2 F G | G F E2 |\nF2 F F | F F F D | (C F) E2 | C3 z |\nC2- C4 C/2 E | D4- D2 C z/4 | C4 D E | D4- D3/2 D2 C z/4 |\nF2 F E | (D E) F2 | G2 F G | G F E2 |\nF2 F F | F F F D | (C F) E2 | C3 z |\nC2- C4 C/2 E | D4- D/2 D3 C z/4 | C4 D3 E | D4- D/2 D2 C z/4 |\nF2 F E | (D E) F2 | G2 F G | G F E2 |\nF2 F F | F F F D | (C F) E2 | C3 z |\nV: T clef=bass\nA,2 C A, | B,2 C2 | D2 C D | C C C2 |\nC2 B, A, | B, C D B, | (A, C) B,2 | A,3 z |\nA,2 C A, | B,2 C2 | D2 C D | C C C2 |\nC2 B, A, | B, C D B, | (A, C) B,2 | A,3 z |\nA,2- A,4 A,3 C | G,4- G,3/2 G, B, A, z/4 | F,4- F, G, | G,4- G, G, B, A, z/4 |\nA,2 C A, | B,2 C2 | D2 C D | C C C2 |\nC2 B, A, | B, C D B, | (A, C) B,2 | A,3 z |\nA,2- A,4 A,7/2 C | G,4- G,2 G, B, A, z/4 | F,4- F, G, | G,4- G, G, B, A, z/4 |\nA,2 C A, | B,2 C2 | D2 C D | C C C2 |\nC2 B, A, | B, C D B, | (A, C) B,2 | A,3 z |\nA,2- A,4 A,/2 C | G,4- G, B, A, z/4 | F,4- F,2 G, | G,4- G,2 G, B, A, z/4 |\nA,2 C A, | B,2 C2 | D2 C D | C C C2 |\nC2 B, A, | B, C D B, | (A, C) B,2 | A,3 z |\nA,2- A,4 A,/2 C | G,4- G, B, A, z/4 | F,4- F, G, | G,4- G,3/2 G, B, A, z/4 |\nA,2 C A, | B,2 C2 | D2 C D | C C C2 |\nC2 B, A, | B, C D B, | (A, C) B,2 | A,3 z |\nA,2- A,4 A,/2 C | G,4- G,/2 G,2 B, A, z/4 | F,4- F,3 G, | G,4- G,/2 G, B, A, z/4 |\nA,2 C A, | B,2 C2 | D2 C D | C C C2 |\nC2 B, A, | B, C D B, | (A, C) B,2 | A,3 z |\nV: B clef=bass\nF,2 F, F, | G,2 F,2 | B,2 A, G,/2``F,/2 | E, F, C,2 |\n(F, E,) D, C, | B,, A,, B,, B,, | C,2 C,2 | F,,3 z |\nF,2 F, F, | G,2 F,2 | B,2 A, G,/2``F,/2 | E, F, C,2 |\n(F, E,) D, C, | B,, A,, B,, B,, | C,2 C,2 | F,,3 z |\nF,2- F,4 F,3 C, | B,,4- B,,3/2 B,,2 F, z/4 | F,4- F, C, | B,,4- B,, B,,2 F, z/4 |\nF,2 F, F, | G,2 F,2 | B,2 A, G,/2``F,/2 | E, F, C,2 |\n(F, E,) D, C, | B,, A,, B,, B,, | C,2 C,2 | F,,3 z |\nF,2- F,4 F,7/2 C, | B,,4- B,,2 B,,2 F, z/4 | F,4- F, C, | B,,4- B,, B,,2 F, z/4 |\nF,2 F, F, | G,2 F,2 | B,2 A, G,/2``F,/2 | E, F, C,2 |\n(F, E,) D, C, | B,, A,, B,, B,, | C,2 C,2 | F,,3 z |\nF,2- F,4 F,/2 C, | B,,4- B,,2 F, z/4 | F,4- F,2 C, | B,,4- B,,2 B,,2 F, z/4 |\nF,2 F, F, | G,2 F,2 | B,2 A, G,/2``F,/2 | E, F, C,2 |\n(F, E,) D, C, | B,, A,, B,, B,, | C,2 C,2 | F,,3 z |\nF,2- F,4 F,/2 C, | B,,4- B,,2 F, z/4 | F,4- F, C, | B,,4- B,,3/2 B,,2 F, z/4 |\nF,2 F, F, | G,2 F,2 | B,2 A, G,/2``F,/2 | E, F, C,2 |\n(F, E,) D, C, | B,, A,, B,, B,, | C,2 C,2 | F,,3 z |\nF,2- F,4 F,/2 C, | B,,4- B,,/2 B,,3 F, z/4 | F,4- F,3 C, | B,,4- B,,/2 B,,2 F, z/4 |\nF,2 F, F, | G,2 F,2 | B,2 A, G,/2``F,/2 | E, F, C,2 |\n(F, E,) D, C, | B,, A,, B,, B,, | C,2 C,2 | F,,3 z |',
header + 'T: 008 이른아침\nC: 최병철 작곡, 손복희 작사\nM: 4/4\nL: 1/4\nQ: 1/4=88\nK: E\n%%score (Soprano Alto)(Tenor Bass)\nV: Soprano clef=treble\nB | B3/2 A/2 G F/2 G/2 | (A3/2 G/2) F2 | B c B A |\nw: 이 른 아 침 마 음 모 ‐ 아 주 님 찾 을\nG3 B | (B3/2 A/2) G F/2 G/2 | (A3/2 G/2) F2 | B G F c |\nw: 때 온 누 ‐ 리 주 의 사 ‐ 랑 가 득 차 있\nB3 B | (B3/2 c/2) B A | A2 G G | (G3/2 A/2) G F/2``E/2 |\nw: 네 우 리 ‐ 맘 불 태 워 당 신 ‐ 께 바 ‐\nE2 D B, | E3/2 F/2 G A/2``B/2 | c2 B B | (A3/2 G/2) F G |\nw: 치 니 바 르 고 참 된 ‐ 삶 을 살 게 ‐ 하 소\nE3 |\nw: 서\nV: Alto clef=treble\nB | G F E D/2 E/2 | (F3/2 E/2) D2 | E E E3/2 D/2 |\nE3 B | (G F) E D/2 E/2 | (F3/2 E/2) D2 | E3/2 D/2 C D/2``E/2 |\nD3 F | (E D) E F | (F D) E D | (C ^B,) C ^B,/2``C/2 |\nC2 B, B, | B,3/2 D/2 E E | (E D) E G | (F3/2 E/2) E D |\nE3 |\nV: Tenor clef=bass\nB, | B, B, B, B,/2 B,/2 | B,2 B,2 | B, A, B, B, |\nB,3 B, | B,2 B, B,/2 B,/2 | B,2 B,2 | B, B, ^A, ^A, |\nB,3 D | B,2 B, C | B,2 B, ^B, | G,2 G, G, |\nF,2 F, B, | B,3/2 B,/2 B, A,/2``G,/2 | A,2 G, B, | B,2 C B,/2``A,/2 |\nG,3 |\nV: Bass clef=bass\nB, | E, D, E, B,,/2 B,,/2 | (D, E,) (B, A,) | G, A, G, F, |\nE,3 B, | (E, D,) E, B,,/2 B,,/2 | (D, E,) (B, A,) | G, E, F, F, |\nB,,3 A, | (G, A,) G, F, | (D, B,,) E, F, | (E, F,) E, D,/2``C,/2 |\n^A,,2 B,, B,/2``A,/2 | G,3/2 F,/2 E,/2``D,/2 C,/2``B,,/2 | (A,, B,,) E, E, | (D, E,) A,, B,, |\nE,3 |',
header + 'T: 009 우리 모두 함께 모여\nC: 최병철 작곡, 고도임 작사\nM: 4/4\nL: 1/4\nQ: 1/4=92\nK: G\n%%score (Soprano Alto)(Tenor Bass)\nV: Soprano clef=treble\nB B c3/2 B/2 | A G/2``F/2 G E | D G G3/2 A/2 | B A/2``G/2 A2 |\nw: 우 리 모 두 함 께 ‐ 모 여 하 느 님 께 경 배 ‐ 해\nB d c3/2 B/2 | A B/2``c/2 B A | G d e3/2 d/2 | d/2``^c/4``B/4 ^c d2 |\nw: 사 랑 으 로 하 나 ‐ 되 어 찬 미 노 래 부 ‐ ‐ 르 네\nd A A B/2``c/2 | B A/2``G/2 F D | d A A B/2``c/2 | B A/2``G/2 A2 |\nw: 생 명 으 로 ‐ 불 러 ‐ 주 신 자 비 하 신 ‐ 하 느 ‐ 님\nB B c3/2 B/2 | A G/2``F/2 G E | D G/2``F/2 E A/2``G/2 | G/2``F/4``E/4 F G2 |\nw: 보 다 더 큰 사 랑 ‐ 으 로 오 늘 ‐ 다 시 ‐ 부 ‐ ‐ 르 네\nV: Alto clef=treble\nG G A3/2 G/2 | F E D C | A, D C E | D D D2 |\nD =F E D | D D D D | D F G G | E3/2 G/2 F2 |\nG E D D | D D D D | D E D G/2``A/2 | G F/2``E/2 F2 |\nG G A3/2 G/2 | F E D C | A, D C E | D D D2 |\nV: Tenor clef=bass\nD D D D | C B, G, G, | F, G, G, G, | G, F,/2``E,/2 F,2 |\nG, G, G, G, | F, G,/2``A,/2 G, F, | G, A, B, B, | A, A, A,2 |\nG, G, F, G,/2``A,/2 | G, G, A, F, | G, G, F, D | D D D2 |\nD D D D | C B, G, G, | F, G, G, A, | A,3/2 C/2 B,2 |\nV: Bass clef=bass\nG, G, F, G, | D, E, B,, C, | C, B,, E, C, | D, D, D,2 |\nG,, B,, C, G,, | D, D, D, C, | B,, A,, G,, E, | A,, A, D,2 |\nB,, C, D, D, | G,, B,, D, C, | B,, C, D, D, | G,, B,, D,2 |\nG, G, F, G, | D, E, B,, C, | C, B,, C, ^C, | D, D, G,,2 |',
header + 'T: 010 주를 찬미해\nC: 프랑스 성가, 최병철 편곡\nM: 2/4\nL: 1/4\nQ: 1/4=56\nK: D\n%%score (Soprano Alto)(Tenor Bass)\nV: Soprano clef=treble\nF F/2 G/2 | A3/4 A/4 A | d B3/4 B/4 | A3/2 z/2 |\nw: 내 주 를 찬 미 해 시 온 에 서\nG G | F D/2 F/2 | A F | E3/2 z/2 |\nw: 나 의 구 세 주 찬 미 해\nF F3/4``E/4 | D2 | A A3/4``G/4 | F2 |\nw: 호 산 ‐ 나 호  산 ‐ 나\nd c3/4 B/4 | A/2``G/2 F/2 G/2 | (F E) | D3/2 z/2 |\nw: 호 산 나 다 ‐ 윗 의 자 ‐ 손\nV: Alto clef=treble\nD D/2 E/2 | E3/4 E/4 E | D D3/4 D/4 | D3/2 z/2 |\nE C/2``E/2 | D D/2 D/2 | E D | E3/2 z/2 |\nC C | (C B,) | E E | (E D) |\nD E3/4 E/4 | F/2``E/2 D/2 E/2 | (E/2 D C/2) | D3/2 z/2 |\nV: Tenor clef=bass\nA, A,/2 B,/2 | A,3/4 A,/4 A, | F, G,3/4 G,/4 | F,3/2 z/2 |\nA, A, | A, A,/2 A,/2 | A, A, | A,3/2 z/2 |\nA,/2``G,/2 F, | F,2 | C/2``B,/2 A, | A,2 |\nB, A,3/4 G,/4 | F,/2``G,/2 A,/2 B,/2 | (A, G,) | F,3/2 z/2 |\nV: Bass clef=bass\nD, D,/2 D,/2 | C,3/4 C,/4 C, | B,, G,,3/4 G,,/4 | D,3/2 z/2 |\nC, A,,/2``C,/2 | D, F,/2 D,/2 | C, D, | A,,3/2 z/2 |\nA,, ^A,, | B,,2 | C, C, | D,2 |\nB,, C,3/4 C,/4 | D, D,/2 G,/2 | (A, A,,) | D,3/2 z/2 |',
]
        var currentNum = 0;

        var synthControl; // visual widget that allows the user to control playback
        var midiBuffer; // object that caches and buffers the audio
        var visualObj; // result of renderAbc()

        var abcOptions = {
            add_classes: true,
            clickListener: self.clickListener,
            responsive: "resize"
        };

        var voicesOff = [-1,-1,-1,-1];
        var checkS, checkA, checkT, checkB;

        function load() {
            document.querySelector(".next").addEventListener("click", next);
            document.querySelector(".prev").addEventListener("click", prev);
            checkS = document.getElementById("check-s");
            checkS.addEventListener("click", function() { checkToggle(); });
            checkA = document.getElementById("check-a");
            checkA.addEventListener("click", function() { checkToggle(); });
            checkT = document.getElementById("check-t");
            checkT.addEventListener("click", function() { checkToggle(); });
            checkB = document.getElementById("check-b");
            checkB.addEventListener("click", function() { checkToggle(); });

            if (ABCJS.synth.supportsAudio()) {
                synthControl = new ABCJS.synth.SynthController();
                synthControl.load("#audio", cursorControl, {displayLoop: false, displayRestart: false, displayPlay: true, displayProgress: true, displayWarp: false});
            } else {
                console.warn("Audio is not supported in this browser.")
            }
            setTune(false);
        }

        function getAudioParams() {
            voicesOff[0] = checkS.checked ? -1:0;
            voicesOff[1] = checkA.checked ? -1:1;
            voicesOff[2] = checkT.checked ? -1:2;
            voicesOff[3] = checkB.checked ? -1:3;
            var audioParams = { voicesOff: voicesOff };
            return audioParams;
        }

        function setTune(userAction) {
            synthControl.disable(true);
            visualObj = ABCJS.renderAbc("paper", abc[currentNum], abcOptions)[0];
            var audioParams = getAudioParams();

            midiBuffer = new ABCJS.synth.CreateSynth();
            midiBuffer.init({
                visualObj: visualObj,
                options: {
                    //soundFontUrl: "https://noteworthycomposer.org/z/FluidR3_GM/"
                }
            }).then(function (response) {
                console.log(response);
                if (synthControl) {
                    synthControl.setTune(visualObj, userAction, audioParams).then(function (response) {
                        console.log("Audio successfully loaded.")
                    }).catch(function (error) {
                        console.warn("Audio problem:", error);
                    });
                }
            }).catch(function (error) {
                console.warn("Audio problem:", error);
            });
        }

        function checkToggle() {
            if (midiBuffer) {
                midiBuffer.stop();
                var audioParams = getAudioParams();

                if (synthControl) {
                    synthControl.disable(true);
                    synthControl.setTune(visualObj, true, audioParams).then(function (response) {
                        console.log("Audio successfully loaded.")
                    }).catch(function (error) {
                        console.warn("Audio problem:", error);
                    });
                }
            }
            else {
                setTune(true);
            }
        }

        function changeNum(jump) {
            currentNum += jump;
            if (currentNum >= abc.length)
                currentNum = 0;
            else if (currentNum < 0)
                currentNum = abc.length - 1;
            synthControl.disable();
            setTune(true);
        }
        function next() {
            changeNum(1)
        }
        function prev() {
            changeNum(-1)
        }
    </script>
</head>

<body onload="load()">
<div class="container">
    <main>
        <div class="navbutton-wrapper">
            <button class="prev">&lt; PREV</button>
            <button class="next">NEXT &gt;</button>
        </div>
        <div class="options-wrapper">
            <div class="checkbox-wrapper">
                <input type="checkbox" id="check-s" checked>
                <label for="check-s">S</label>
            </div>
            <div class="checkbox-wrapper">
                <input type="checkbox" id="check-a" checked>
                <label for="check-a">A</label>
            </div>
            <div class="checkbox-wrapper">
                <input type="checkbox" id="check-t" checked>
                <label for="check-t">T</label>
            </div>
            <div class="checkbox-wrapper">
                <input type="checkbox" id="check-b" checked>
                <label for="check-b">B</label>
            </div>
        </div>
        <div id="audio"></div>
        <div id="paper"></div>
        <div class="footer-wrapper">
            <h3 style="text-align:center"><a href="https://github.com/jtna/kchymns/blob/main/README.md">README</a></h3>
        </div>
    </main>
</div>
</body>
</html>
